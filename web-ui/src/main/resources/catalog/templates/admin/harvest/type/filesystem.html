<form data-ng-keypress="updatingHarvester()">
  <input type="hidden" name="_csrf" value="{{csrf}}"/>

  <div class="row">
    <div id="gn-harvest-settings-selected-id" class="col-lg-6 gn-nopadding-left" data-gn-harvester-identification="harvesterSelected"/>
    <div id="gn-harvest-settings-selected-schedule" class="col-lg-6 gn-nopadding-right" data-gn-harvester-schedule="harvesterSelected"/>
  </div>

  <fieldset id="gn-harvest-settings-file-basic-row">
    <legend id="gn-harvest-settings-file-basic-title"><span data-translate="">harvesterMainConfigurationFor</span> {{('harvester-' +
      harvesterSelected['@type']) | translate}}
    </legend>
    <div id="gn-harvest-settings-file-basic-directory-row" data-ng-class="harvesterSelected.site.directory == '' ? 'has-error' : ''">
      <label id="gn-harvest-settings-file-basic-directory-label" class="control-label" data-translate="">filesystem-directory</label>
      <input id="gn-harvest-settings-file-basic-directory-input" type="text" class="form-control" data-ng-model="harvesterSelected.site.directory"/>
      <p class="help-block" data-translate="">filesystem-directoryHelp</p>
    </div>

    <!--Type of record-->
    <div id="gn-harvest-settings-file-basic-type-row">
      <label id="gn-harvest-settings-file-basic-type-label" class="control-label" data-translate="">typeOfRecord</label>
      <div id="gn-harvest-settings-file-basic-type-list" gn-recordtypes-combo="harvesterSelected.site.recordType"></div>
    </div>

  </fieldset>

  <fieldset id="gn-harvest-settings-file-advanved-row">
    <legend id="gn-harvest-settings-file-advanced-title"><span data-translate="">harvesterAdvancedConfigurationFor</span>
      {{harvesterSelected['@type'] | translate}}
    </legend>

    <div id="gn-harvest-settings-file-advanved-subfolders-row">
      <label class="control-label">
        <input id="gn-harvest-settings-file-advanved-subfolders-checkbox" type="checkbox" data-ng-model="harvesterSelected.site.recurse"/>
        <span id="gn-harvest-settings-file-advanved-subfolders-label" data-translate="">filesystem-recurse</span>
      </label>
      <p class="help-block" data-translate="">filesystem-recurseHelp</p>
    </div>

    <div id="gn-harvest-settings-file-advanved-nodelete-row">
      <label class="control-label">
        <input id="gn-harvest-settings-file-advanved-nodelete-checkbox" type="checkbox" data-ng-model="harvesterSelected.site.nodelete"/>
        <span id="gn-harvest-settings-file-advanved-nodelete-label" data-translate="">filesystem-nodelete</span>
      </label>
      <p class="help-block" data-translate="">filesystem-nodeleteHelp</p>
    </div>

    <div id="gn-harvest-settings-file-advanved-update-row">
      <label class="control-label">
        <input id="gn-harvest-settings-file-advanved-update-checkbox"
               type="checkbox"
               data-ng-model="harvesterSelected.site.checkFileLastModifiedForUpdate"/>
        <span id="gn-harvest-settings-file-advanved-update-label" data-translate="">filesystem-checkFileLastModifiedForUpdate</span>
      </label>
      <p class="help-block" data-translate="">filesystem-checkFileLastModifiedForUpdateHelp</p>
    </div>

    <div id="gn-harvest-settings-file-advanved-categories-row"
         data-gn-category="harvesterSelected.categories[0]['@id']"
         data-lang="{{lang}}"
         data-label="category"/>

    <div id="gn-harvest-settings-file-advanved-validate-row">
      <label id="gn-harvest-settings-file-advanved-validate-label" class="control-label">
        <span data-translate="">harvesterValidate</span>
      </label>
      <div id="gn-harvest-settings-file-advanved-validate-list" data-gn-harvester-validation="harvesterSelected.content.validate"/>
      <p class="help-block" data-translate="">harvesterValidateHelp</p>
    </div>

    <div id="gn-harvest-settings-file-advanved-xsl-row">
      <label id="gn-harvest-settings-file-advanved-xsl-label" class="control-label" data-translate="">applyXSLToRecord</label>
      <div id="gn-harvest-settings-file-advanved-xsl-list" data-gn-import-xsl="harvesterSelected.content.importxslt"/>
      <p class="help-block" data-translate="">applyXSLToRecordHelp</p>
    </div>

    <div id="gn-harvest-settings-file-advanved-script-row">
      <label id="gn-harvest-settings-file-advanved-script-label" class="control-label" data-translate="">filesystem-beforeScript</label>
      <input id="gn-harvest-settings-file-advanved-script-input" type="text" class="form-control" data-ng-model="harvesterSelected.site.beforeScript"/>
      <p class="help-block" data-translate="">filesystem-beforeScriptHelp</p>
    </div>
  </fieldset>

  <div id="gn-harvest-settings-file-privileges-row" data-gn-harvester-privileges="harvesterSelected" data-lang="{{lang}}"/>
</form>
