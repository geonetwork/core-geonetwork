<form name="harvesterForm" data-ng-keypress="updatingHarvester()">
  <input type="hidden" name="_csrf" value="{{csrf}}" />

  <div class="row">
    <div
      class="col-lg-6"
      data-gn-harvester-identification="harvesterSelected"
      lang=""
    ></div>

    <div class="col-lg-6" data-gn-harvester-schedule="harvesterSelected"></div>
  </div>

  <fieldset>
    <legend>
      <i class="fa fa-fw fa-plug"></i
      ><span data-translate="">harvesterConnectionConfiguration</span> {{('harvester-' +
      harvesterSelected['@type']) | translate}}
    </legend>
    <div data-ng-class="harvesterSelected.site.url == '' ? 'has-error' : ''">
      <label class="control-label" data-translate="">serviceUrl</label>
      <input
        type="text"
        class="form-control"
        data-ng-model="harvesterSelected.site.url"
      />
      <p class="help-block" data-translate="">thredds-serviceUrlHelp</p>
    </div>
  </fieldset>

  <fieldset>
    <legend>
      <i class="fa fa-fw fa-cogs"></i
      ><span data-translate="">harvesterResponseProcessing</span>
      {{harvesterSelected['@type'] | translate}}
    </legend>

    <!-- TODO: Could be nicer to have a list of languages -->
    <div>
      <label class="control-label" data-translate="">thredds-metadataLanguage</label>
      <input
        type="text"
        class="form-control"
        data-ng-model="harvesterSelected.options.lang"
      />
    </div>

    <div>
      <label class="control-label" data-translate="">thredds-topic</label>
      <div
        data-schema-info-combo="codelist"
        data-selected-info="harvesterSelected.options.topic"
        data-gn-schema-info="gmd:MD_TopicCategoryCode"
        lang="lang"
      ></div>
    </div>

    <div>
      <label class="control-label">
        <input
          type="checkbox"
          data-ng-model="harvesterSelected.options.createServiceMd"
        />
        <span data-translate="">thredds-createServiceMd</span>
      </label>
      <p class="help-block" data-translate="">thredds-createServiceMdHelp</p>
    </div>

    <div>
      <label class="control-label" data-translate="">thredds-outputSchema</label>
      <input
        type="text"
        class="form-control"
        data-ng-model="harvesterSelected.options.outputSchema"
      />
    </div>

    <div>
      <label class="control-label" data-translate="">thredds-datasetTitle</label>
      <input
        type="text"
        class="form-control"
        data-ng-model="harvesterSelected.options.datasetTitle"
      />
      <p class="help-block" data-translate="">thredds-datasetTitleHelp</p>
    </div>

    <div>
      <label class="control-label" data-translate="">thredds-datasetAbstract</label>
      <input
        type="text"
        class="form-control"
        data-ng-model="harvesterSelected.options.datasetAbstract"
      />
      <p class="help-block" data-translate="">thredds-datasetAbstractHelp</p>
    </div>

    <div
      data-gn-category="harvesterSelected.options.serviceCategory"
      data-lang="{{lang}}"
      data-label="thredds-serviceCategory"
    ></div>

    <div
      data-gn-category="harvesterSelected.options.datasetCategory"
      data-lang="{{lang}}"
      data-label="thredds-datasetCategory"
    ></div>
  </fieldset>

  <div data-gn-harvester-privileges="harvesterSelected" data-lang="{{lang}}"></div>
</form>
