<div class="btn-group">
  <button
    type="button"
    class="btn btn-default navbar-btn"
    title="{{'validate-help'|translate}}"
    data-gn-click-and-spin="save(true, true)"
  >
    <i data-ng-show="!isDownloadingRecord" class="fa fa-check"></i>
    <i data-ng-show="isDownloadingRecord" class="fa fa-spinner fa-spin"></i>
    <span class="visible-lg" data-translate="" title="{{'validate-help' | translate}}"
      >validate</span
    >
  </button>
  <button
    class="btn btn-default navbar-btn dropdown-toggle"
    type="button"
    data-toggle="dropdown"
    aria-expanded="true"
    data-ng-show="isInspireValidationEnabled"
  >
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu" data-ng-show="isInspireValidationEnabled">
    <li class="dropdown-header">
      <span class="visible-lg" data-translate="">validate-inspire</span>
    </li>
    <li class="dropdown-header">
      <span data-translate="">lastInspireValidationStatus</span>
      <gn-md-type-inspire-validation-widget
        metadata="md"
      ></gn-md-type-inspire-validation-widget>
    </li>
    <li
      role="presentation"
      data-ng-show="!isDownloadingRecord && validationNode"
      data-ng-repeat="(key,value) in testsuites"
      data-ng-class="{'disabled': !md.isPublished()}"
      title="{{md.isPublished() ? '' : 'inspireValidationUsingPortalOnlyForPublicRecord' | translate}}"
    >
      <a
        role="menuitem"
        tabindex="-1"
        data-gn-click-and-spin="validateInspire(key, validationNode)"
      >
        <i class="fa fa-chevron-right"></i>&nbsp;
        <span>{{key}} ({{'usingCswFromNode' | translate}} {{validationNode}})</span>
      </a>
    </li>
    <li class="divider"></li>
    <li
      role="presentation"
      data-ng-show="!isDownloadingRecord"
      data-ng-repeat="(key,value) in testsuites"
    >
      <a
        role="menuitem"
        tabindex="-1"
        data-gn-click-and-spin="validateInspire(key)"
        title="{{'validate-inspire-help' | translate}} {{value.join(', ')}}"
      >
        <i class="fa fa-chevron-right"></i>&nbsp;

        <span>{{key}}</span>
      </a>
    </li>
    <li role="presentation" data-ng-show="isDownloadingRecord">
      <a
        role="menuitem"
        tabindex="-1"
        data-gn-click-and-spin="validateInspire()"
        title="{{'validate-inspire-help' | translate}}"
      >
        <i class="fa fa-spinner fa-spin"></i>&nbsp;
        <span class="visible-lg" data-translate="">reportGeneration</span>
      </a>
    </li>
    <li role="presentation" data-ng-show="isDownloadedRecord">
      <a
        role="menuitem"
        tabindex="-1"
        target="_blank"
        href="{{reportURL}}"
        title="{{'validate-inspire-help' | translate}}"
      >
        <i class="fa fa-fw fa-file fa-inspire"></i>&nbsp;
        <span class="visible-lg" data-translate="">reportLink</span> - {{reportStatus}}
      </a>
    </li>

    <li class="divider"></li>
    <li class="dropdown-header">
      <span class="visible-lg" data-translate="">shaclValidation</span>
    </li>
    <li
      role="presentation"
      data-ng-repeat="t in shaclTestsuites"
      title="DCAT AP validation"
    >
      <a
        role="menuitem"
        tabindex="-1"
        data-gn-click-and-spin="validateShacl('eu-dcat-ap-hvd', t)"
      >
        <i class="fa fa-chevron-right"></i>&nbsp;
        <span>{{t}}</span>
      </a>
    </li>
  </ul>
</div>
