<div data-ng-search-form="" data-runSearch="true">
  <div
    data-ng-if="!showHealthIndexError && searchOptions.fullText !== false"
    class="hidden-print"
    data-ng-include="'../../catalog/views/default/templates/searchForm.html'"
  ></div>

  <div class="row gn-row-results">
    <div class="col-sm-offset-6" data-gn-index-error-panel=""></div>

    <div data-ng-class="fluidLayout ? 'container-fluid' : 'container'">
      <div
        class="gn-search-facet"
        data-ng-class="(isFilterTagsDisplayedInSearch === true
            || searchResults.facets.length > 0) ? 'col-md-3': 'hidden'"
      >
        <div ng-if="searchMapPlacement === 'facets'">
          <div class="panel panel-default">
            <div class="panel-heading" data-gn-slide-toggle="">
              <span translate="" class="ng-scope">map</span>
            </div>
            <div
              data-gn-map-field="searchObj.searchMap"
              data-gn-map-field-geom="searchObj.params.geometry"
              data-gn-map-field-opt="searchObj.mapfieldOption"
              class="gn-search-map gn-map-relative"
            ></div>
          </div>
        </div>
        <div
          data-search-filter-tags
          data-dimensions="searchResults.facets"
          data-use-location-parameters="true"
          ng-if="isFilterTagsDisplayedInSearch && searchResults.facets"
        ></div>

        <div
          data-gn-user-searches-panel="user"
          data-ng-if="isUserSearchesEnabled && user.isConnected()"
        ></div>
        <div
          data-ng-show="searchResults.records.length > 0
            && searchResults.facets.length > 0"
          data-es-facets="searchResults.facets"
        ></div>

        <div
          data-ng-show="searchResults.records.length > 0"
          data-gn-saved-selections-panel="user"
        ></div>
      </div>
      <!-- /.gn-search-facet -->

      <div
        class="container-fluid"
        data-ng-class="(isFilterTagsDisplayedInSearch === true
            || searchResults.facets.length > 0) ? 'col-md-9': 'col-md-12'"
      >
        <div
          class="row gn-row-tools hidden-print"
          data-ng-show="searchResults.records.length > 0"
        >
          <div class="col-xs-6 col-sm-3 gn-nopadding-left">
            <div
              data-gn-selection-widget=""
              data-ng-if="showBatchDropdown"
              data-results="searchResults"
            ></div>
          </div>

          <div class="col-xs-12 col-sm-6 text-center">
            <div
              class=""
              data-gn-pagination="paginationInfo"
              data-hits-values="searchObj.hitsperpageValues"
              data-enable-hot-keys=""
              data-enable-events=""
            ></div>
          </div>

          <div class="col-xs-6 col-sm-3 gn-nopadding-right text-right navbar-right">
            <div
              data-sortby-combo=""
              class="d-inline-block"
              data-params="searchObj.params"
              data-gn-sortby-values="searchObj.sortbyValues"
            ></div>

            <div data-gn-results-tpl-switcher="" class="d-inline-block"></div>
          </div>
        </div>
        <!-- /.gn-row-tools -->

        <div class="row">
          <div
            data-ng-show="searchResults.records.length > 0"
            data-es-facets="searchResults.facets"
            data-tab-field="facetTabField"
          ></div>
        </div>
        <div class="row">
          <div class="col-xs-12 gn-nopadding-left gn-nopadding-right">
            <span class="loading fa fa-spinner fa-spin" data-ng-show="searching"></span>

            <div
              class="alert alert-warning"
              role="alert"
              ng-if="!searching && searchResults.count == 0"
            >
              <i class="fa fa-frown-o"></i>
              <span data-translate="">zarooResult</span>
            </div>

            <div
              data-ng-show="searchResults.records.length > 0"
              data-gn-results-container=""
              data-search-results="searchResults"
              data-template-url="resultTemplate"
              data-map="searchObj.searchMap"
            ></div>
          </div>
        </div>
        <div class="row gn-row-tools gn-noborder-bottom hidden-print">
          <div class="col-sm-3">
            <button
              data-ng-show="searchResults.records.length > 9"
              class="btn btn-link hidden-print"
              onClick="window.scrollTo(0,0);"
              title="{{'scrollTop' | translate}}"
            >
              <i class="fa fa-fw fa-chevron-up" />
            </button>
          </div>
          <div class="col-xs-12 col-sm-6 text-center">
            <div
              class=""
              data-gn-pagination="paginationInfo"
              data-hits-values="searchObj.hitsperpageValues"
              data-enable-hot-keys=""
              data-enable-events=""
            ></div>
          </div>
        </div>
      </div>
    </div>

    <div ng-if="searchMapPlacement === 'results'" class="hidden-print">
      <div
        data-gn-map-field="searchObj.searchMap"
        data-gn-map-field-geom="searchObj.params.geometry"
        data-gn-map-field-opt="searchObj.mapfieldOption"
        class="gn-search-map gn-map-fixed hidden-xs"
      ></div>

      <button
        data-ng-click="toggleMap()"
        title="{{'toggleMiniMap' | translate}}"
        class="gn-toggle gn-minimap-toggle btn btn-primary gn-minimap-button hidden-xs"
      >
        <i class="fa fa-angle-double-right"></i>
        <strong class="gn-minimap-toggle gn-minimap-text" data-translate="">map</strong>
      </button>
    </div>
  </div>
</div>
