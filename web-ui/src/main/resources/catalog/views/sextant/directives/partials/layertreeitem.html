<li class="" data-ng-class="{'active': member.showInfo, 'sxt-outofrange': !((member.getMaxResolution() >= map.getView().getResolution()) && (member.getMinResolution() <= map.getView().getResolution()))}">
  <div ng-if="isParentNode()"><i ng-click="toggleNode($event)" class="sxt-layer-visibility fa fa-minus-square"></i>&nbsp;<span>{{member.name || member.get('label') }}</span></div>
  <div ng-if="!isParentNode()" data-ng-class="{sublayer: member.get('fromWps')}">

    <!--Drop down button for layer actions-->
    <div class="btn-group pull-right" sxt-popover-dropdown sxt-popover-dismiss=".sxt-layertree">
      <a role="button" tabindex="0" class="sxt-layer-dropdown-btn dropdown-toggle pull-right btn btn-default btn-xs">
        <span class="fa fa-cog"></span>
      </a>
      <ul style="display:none" class="list-group">

        <!--Zoom To layer-->
        <li class="list-group-item" ng-if="member.get('cextent')"><a href="" data-ng-click="mapService.zoomLayerToExtent(member, map)">
          <!--<i class="fa fa-arrows-alt"></i>&nbsp;--><span translate="">layerExtentZoom</span>
        </a></li>

        <!--Open metadata-->
        <li class="list-group-item" data-ng-if="member.get('md') || member.get('metadataUrl')"><a href="" data-ng-click="showMetadata()">
          <!--<i class="fa fa-file"></i>&nbsp;--><span translate="">showMetadata</span>
        </a></li>

        <!--downloads-->
        <li class="list-group-item" data-ng-if="download">
          <a href="" data-ng-click="addToPanier(download)">
          <!--<i class="fa fa-download"></i>&nbsp;--><span translate="">download</span>
        </a></li>

        <!--opacity-->
        <li class="list-group-item">
          <input class="pull-right" type="range" min="0" max="1" step="0.05" ng-model="member.opacity" />
          <a translate="">opacity</a>
        </li>

        <!--NCWMS-->
        <li class="list-group-item" data-ng-if="member.get('advanced')"><a href="" data-ng-click="setNCWMS(member)">
          <!--<i class="fa fa-anchor"></i>&nbsp;--><span translate="">ncwms</span>
        </a></li>

        <!--WPS-->
        <li class="list-group-item" data-ng-if="process && process.length == 1"><a href="" data-ng-click="showWPS(process[0])">
          <!--<i class="fa fa-gear"></i>&nbsp;--><span translate="">process</span>
        </a></li>
        <li class="list-group-item btn-group" ng-if="process && process.length > 1 ">
          <div class="btn-link dropdown-toggle" data-toggle="dropdown">
            <span translate="">process</span>&nbsp;
            <span class="caret"></span>
          </div>
          <ul class="dropdown-menu" role="menu">
            <li ng-repeat="p in process"><a href="" data-ng-click="showWPS(p)">{{p.desc || p.name}}</a></li>
          </ul>
        </li>

        <!--WFS Filter-->
        <li class="list-group-item" data-ng-if="wfs || (wfsLink && user.canEditRecord(member.get('md')))"><a href="" data-ng-click="showWFSFilter()">
          <span translate="">filter</span>
        </a></li>

        <!--Remove layer-->
        <li class="list-group-item"><a href="" data-ng-click="remove()">
          <!--<i class="fa fa-trash-o"></i>&nbsp;--><span translate="">remove</span>
        </a></li>
      </ul>
    </div>

    <!-- Visibility check box & Layer title-->
    <label>
      <i ng-if="!groupCombo" class="fa sxt-layer-visibility" ng-class="(member.visible) ? 'fa-check-square' : 'fa-square'" title="{{'layerVisible'|translate}}" ></i>
      <i ng-if="groupCombo" class="fa sxt-layer-visibility" ng-class="(member.visible) ? 'fa-check-circle' : 'fa-circle'" title="{{'layerVisible'|translate}}" ></i>

      <input ng-if="!groupCombo" type="checkbox" ng-model="member.visible" class="hidden"/>
      <input ng-if="groupCombo" ng-value="member" name="{{groupCombo}}" class="hidden"
             type="radio" ng-model="comboGroups[groupCombo]" title="{{'layerVisible'|translate}}"
             data-ng-change="switchGroupCombo(groupCombo)" data-ng-click="setLayerVisibility(groupCombo, member)"/>
      {{member.get('label')}}
    </label>

    <br/>
  </div>
</li>
