<!--
  ~ Copyright (C) 2001-2016 Food and Agriculture Organization of the
  ~ United Nations (FAO-UN), United Nations World Food Programme (WFP)
  ~ and United Nations Environment Programme (UNEP)
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation; either version 2 of the License, or (at
  ~ your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but
  ~ WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program; if not, write to the Free Software
  ~ Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA
  ~
  ~ Contact: Jeroen Ticheler - FAO - Viale delle Terme di Caracalla 2,
  ~ Rome - Italy. email: geonetwork@osgeo.org
  -->

<overrides>
  <!-- import values.  The imported values are put at top of sections -->
  <import file="./imported-overrides-config.xml"/>
  <!-- The logging section allows logging configuration files to be specified -->
  <!-- At the moment only property based configuration files are supported -->
  <!-- There may be multiple configuration files -->
  <!-- The properties are loaded in order and subsequent files will override -->
  <!-- properties previously loaded.  This allows one to have shared configuration in -->
  <!-- one log file and more specific configuration in other files -->
  <logging>
    <logFile>/WEB-INF/logfile1.properties</logFile>
    <logFile>/WEB-INF/logfile2.properties</logFile>
  </logging>
  <!-- properties allow some properties to be defined that will be substituted -->
  <!-- into text or attributes where ${property} is the substitution pattern -->
  <!-- The properties can reference other properties -->
  <properties>
    <enabled>true</enabled>
    <dir>xml</dir>
    <aparam>overridden</aparam>
  </properties>
  <!-- In this version only the file name is considered not the path.  -->
  <!-- So case conf1/config.xml and conf2/config.xml cannot be handled -->
  <file name="config.xml">
    <!-- This example will update the file attribute of the xml element with the name attribute 'countries' -->
    <replaceAtt xpath="default/gui/xml[@name = 'countries']" attName="file"
                value="${dir}/europeanCountries.xml"/>
    <!-- if there is no value then the attribute is removed -->
    <replaceAtt xpath="default/gui" attName="removeAtt"/>
    <!-- If the attribute does not exist it is added -->
    <replaceAtt xpath="default/gui" attName="newAtt" value="newValue"/>

    <!-- This example will replace all the xml in resources with the contained xml -->
    <replaceXML xpath="resources">
      <resource enabled="${enabled}">
        <name>main-db</name>
        <provider>jeeves.resources.dbms.DbmsPool</provider>
        <config>
          <user>admin</user>
          <password>admin</password>
          <driver>oracle.jdbc.driver.OracleDriver</driver>
          <!-- ${host} will be updated to be local host -->
          <url>jdbc:oracle:thin:@${host}:1521:fs</url>
          <poolSize>10</poolSize>
        </config>
      </resource>
    </replaceXML>
    <!-- This example simple replaces the text of an element -->
    <replaceText xpath="default/language">${lang}</replaceText>
    <!-- This examples shows how only the text is replaced not the nodes -->
    <replaceText xpath="default/gui">ExtraText</replaceText>
    <!-- append xml as a child to a section (If xpath == "" then that indicates the root of the document),
         this case adds nodes to the root document -->
    <addXML xpath="">
      <newNode/>
    </addXML>
    <!-- append xml as a child to a section, this case adds nodes to the root document -->
    <addXML xpath="default/gui">
      <newNode2/>
    </addXML>
    <!-- remove a single node -->
    <removeXML xpath="default/gui/xml[@name = countries2]"/>
  </file>
  <file name="config2.xml">
    <replaceText xpath="default/language">ger</replaceText>
  </file>
</overrides>
