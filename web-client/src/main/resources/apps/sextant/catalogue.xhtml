
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:mf="http://mapfaces.org/taglib">

    <head>
    <c:set var="contextPath" value="#{facesContext.externalContext.requestContextPath}" />
      
    <!-- Meta Tags -->
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext/resources/css/ext-all.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/OpenLayers/theme/default/style.css" />
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext/resources/css/xtheme-gray.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext-ux/Rating/rating.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext-ux/SuperBoxSelect/superboxselect.css" />
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext-ux/LightBox/lightbox.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext-ux/FileUploadField/file-upload.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/js/lib/ext-ux/MultiselectItemSelector-3.0/Multiselect.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/gndefault.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/gnmapdefault.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/gnmetadatadefault.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/metadata-view.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/main.css"/>
    <link rel="stylesheet" type="text/css" href="#{contextPath}/css/liferay.css"/>

    </head>
    <body>
            <form id="fakeform" action="#" method="post" target="_blank"></form> <!-- used so that cas/js/common_rosters.js does not create problems at init time -->
            <form id="catalogPDF" action="#" method="post" target="_blank">
              <input type="hidden" name="data" id="catalogPDF-hidden" value="" />
            </form>
            
		    <div id="login-form"></div>
            <div id="lang-form"></div>
            <div id="casLogin-frame-win" style="display:none"></div>
            
		    <div id="main-viewport"></div>
		  
		    <div id="infoContent"></div>
		    <div id="tag"></div>
		    
            <div id="catalogTab" class="ui-widget ui-widget-content ui-corner-all" style="background-color:#D9D9D9;">
            <iframe id="catalog-geonetwork" name="catalog-geonetwork" frameborder="0" width="0" height="0" style="visibility:hidden;"></iframe>
            <h:form id="catalogForm">
              <h:outputText value="#{catalogue.initCatalogue}" />
              <h:inputHidden value="#{catalogue.layername}" id="layername" />
              <h:inputHidden value="#{catalogue.wmsurl}" id="wmsurl" />
              <h:inputHidden value="#{catalogue.layergroup}" id="layergroup" />
              <h:inputHidden value="#{catalogue.wmsversion}" id="wmsversion" />
              <h:inputHidden value="#{catalogue.getrecordbyidurl}" id="getrecordbyidurl" />
              <h:inputHidden value="#{catalogue.geonetworkurl}" id="configgeonetwork" />
              <h:inputHidden value="#{catalogue.maxextent}" id="configmaxextent" />
              <h:inputHidden value="#{catalogue.what}" id="configwhat" />
              <h:inputHidden value="#{catalogue.who}" id="configwho" />
              
              <input type="hidden" id="configmdviewerurl" value="#{catalogue.mdviewerurl}" />
              <input type="hidden" id="configgeoviewerurl" value="#{catalogue.geoviewerurl}" />
              <input type="hidden" id="configpanierurl" value="#{catalogue.panierurl}" />
              <input type="hidden" id="configtypesearch" value="#{catalogue.typeSearch}" />
                                                  
              <h:panelGroup id="nbLayersBox" style="display:none;">
                <h:outputText value="#{catalogue.nbPanierLayers}" id="nbPanierLayers" style="display:none;" />
                <h:outputText value="#{catalogue.nbViewerLayers}" id="nbViewerLayers" style="display:none;" />
              </h:panelGroup>

              <a4j:commandLink style="display:none;" id="viewerButton" action="#{catalogue.sendLayerToGeoviewer}" reRender="nbLayersBox" oncomplete="cat.ipc.displayLayersNumber();" />
              <a4j:commandLink style="display:none;" id="panierButton" action="#{catalogue.sendLayerToPanier}" reRender="nbLayersBox" oncomplete="cat.ipc.displayLayersNumber();" />
                
              <input type="hidden" name="data" id="catalogForm-hidden" value=""/>


            <div style="display:none;" id="cat-dialog"></div>
            </h:form>
          </div>
          <!-- FIN catalog -->

    <script type="text/javascript" src="#{contextPath}/js/lib/ext/adapter/ext/ext-base.js"></script>
    
    <c:choose>
    	<c:when test="#{!empty param.debug}">
    
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext/ext-all-debug.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/Rating/RatingItem.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/FileUploadField/FileUploadField.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/TwinTriggerComboBox/TwinTriggerComboBox.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/DateTime/DateTime.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/RowExpander/RowExpander.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/MultiselectItemSelector-3.0/DDView.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/MultiselectItemSelector-3.0/Multiselect.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/SuperBoxSelect/SuperBoxSelect.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext-ux/LightBox/lightbox.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/GeoNetwork/lib/GeoNetwork/widgets/CategoryTree.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/proj4js-compressed.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/OpenLayers/lib/OpenLayers.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/GeoExt/lib/overrides/override-ext-ajax.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/GeoExt/lib/GeoExt.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/GeoExt-ux/LayerOpacitySliderPlugin/LayerOpacitySliderPlugin.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/lib/GeoNetwork/lib/GeoNetwork.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.lang/fr.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.lang/es.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.lang/it.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.lang/en.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/Settings.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/Shortcuts.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.map/Settings.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.what.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.when.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.where.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.who.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.edit.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.ViewWindow.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.ViewPanel.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.MetadataResultsView.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.list.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.ipc.js"></script>
		    <script type="text/javascript" src="#{contextPath}/js/cat.main.js"></script>

        </c:when>
    	<c:otherwise>
		    <script type="text/javascript" src="#{contextPath}/js/lib/ext/ext-all.js"></script>

        <script type="text/javascript" src="../../../geonetwork/static/geonetwork-client-mini-nomap.js"></script>
        <script type="text/javascript" src="../../../geonetwork/static/geonetwork-client-mini.js"></script>
        <script type="text/javascript" src="../../../geonetwork/static/geonetwork-client-sextant-app.js"></script>
        </c:otherwise>
      </c:choose>

    <script type="text/javascript">
    	cat.imgPath = '#{contextPath}'+'/';
    	Ext.BLANK_IMAGE_URL = cat.imgPath+'images/s.gif';
    	cat.language = ("#{facesContext.externalContext.requestLocale}").split('_')[0];
    </script>
    
    <script type="text/javascript" src="#{contextPath}/faces/rfResorg.ajax4jsf.javascript.AjaxScript"></script>
    <script type="text/javascript" src="#{contextPath}/mfRes/org/ajax4jsf/javascript/JSFAJAX.js"></script>
    
    </body>
</html>
